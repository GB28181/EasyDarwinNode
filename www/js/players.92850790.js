webpackJsonp([2],{"3Uos":function(t,e,a){"use strict";a.d(e,"a",function(){return r}),a.d(e,"b",function(){return s});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid no-padding"},[t._m(0),t._v(" "),a("div",{staticClass:"box box-success"},[a("div",{staticClass:"box-header"},[a("h4",{staticClass:"text-success text-center"},[t._v("拉流列表")]),t._v(" "),a("form",{staticClass:"form-inline"},[a("div",{staticClass:"form-group pull-right"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.query,expression:"query",modifiers:{trim:!0}}],ref:"search",staticClass:"form-control",attrs:{type:"text",placeholder:"搜索"},domProps:{value:t.query},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.doSearch(e)):null},input:function(e){e.target.composing||(t.query=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("div",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.doSearch(e)}}},[a("i",{staticClass:"fa fa-search"})])])])])])]),t._v(" "),a("div",{staticClass:"box-body"},[a("el-table",{staticClass:"view-list",attrs:{data:t.players,stripe:"","default-sort":{prop:"startAt",order:"descending"}},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{prop:"id",label:"ID","min-width":"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"path",label:"地址","min-width":"240"}}),t._v(" "),a("el-table-column",{attrs:{prop:"transType",label:"传输方式","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return["tcp"==e.row.transType?a("span",[t._v("TCP")]):a("span",[t._v("UDP")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"outBytes",label:"下行流量","min-width":"120",formatter:t.formatBytes,sortable:"custom"}}),t._v(" "),a("el-table-column",{attrs:{prop:"startAt",label:"开始时间","min-width":"200",sortable:"custom"}})],1)],1),t._v(" "),a("div",{staticClass:"box-footer clearfix"},[a("el-pagination",{staticClass:"pull-right",attrs:{layout:"prev,pager,next",total:t.total,"page-size":t.pageSize,"current-page":t.page},on:{"current-change":t.pageChange}})],1)])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alert alert-success alert-dismissible"},[a("small",[a("strong",[a("i",{staticClass:"fa fa-info-circle"}),t._v(" 提示 : ")]),t._v(" \n            RTSP低延时播放器可以采用"),a("a",{attrs:{href:"https://github.com/EasyDSS/EasyPlayer-RTSP-Win",target:"_blank"}},[t._v(" EasyPlayer-RTSP "),a("i",{staticClass:"fa fa-external-link"})]),t._v("，\n            "),a("span",{staticClass:"push-url-format"},[t._v("拉流播放URL规则: rtsp://{ip}:{port}/{id}")]),t._v(" ，\n            例如 : rtsp://www.easydarwin.org:554/your_stream_id\n        ")]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}]},"5U11":function(t,e,a){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=["B","kB","MB","GB","TB","PB","EB","ZB","YB"];t.exports=function(t){if(!Number.isFinite(t))throw new TypeError("Expected a finite number, got "+(void 0===t?"undefined":r(t))+": "+t);var e=t<0;if(e&&(t=-t),t<1)return(e?"-":"")+t+" B";var a=Math.min(Math.floor(Math.log(t)/Math.log(1e3)),s.length-1),n=Number((t/Math.pow(1e3,a)).toPrecision(3)),i=s[a];return(e?"-":"")+n+" "+i}},btmZ:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=a("5U11"),s=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default={props:{page:{type:Number,default:1},q:{type:String,default:""}},data:function(){return{query:"",sort:"startAt",order:"descending",players:[],total:0,timer:0,pageSize:10}},beforeDestroy:function(){this.timer&&(clearInterval(this.timer),this.timer=0)},mounted:function(){var t=this;this.query=this.q,this.$refs.search.focus(),this.timer=setInterval(function(){t.load()},3e3)},methods:{load:function(){var e=this;t.post("/stats/players",{q:this.q,start:(this.page-1)*this.pageSize,limit:this.pageSize,sort:this.sort,order:this.order}).then(function(t){e.total=t.total,e.players=t.rows})},pageChange:function(t){this.$router.push("/players/"+t+(this.q?"?q="+this.q:""))},doSearch:function(){this.$router.push("/players/"+this.page+(this.query?"?q="+this.query:""))},sortChange:function(t){this.sort=t.prop,this.order=t.order,this.load()},formatBytes:function(t,e,a){return void 0==a?"-":(0,s.default)(a)}},beforeRouteEnter:function(t,e,a){return t.params.page?(t.params.page=parseInt(t.params.page)||1,t.params.q=t.query.q,a()):a({path:"/players/1",replace:!0})},beforeRouteUpdate:function(t,e,a){var r=this;if(!t.params.page)return a({path:"/players/1",replace:!0});t.params.page=parseInt(t.params.page)||1,t.params.q=t.query.q,a(),this.$nextTick(function(){r.query=r.q,r.load()})}}}).call(e,a("0iPh"))},jTek:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("btmZ"),s=a.n(r);for(var n in r)"default"!==n&&function(t){a.d(e,t,function(){return r[t]})}(n);var i=a("3Uos"),o=a("XyMi"),l=Object(o.a)(s.a,i.a,i.b,!1,null,null,null);e.default=l.exports}});